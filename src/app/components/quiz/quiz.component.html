<h2>Quiz</h2>
<div *ngIf="authService.isLoggedIn()">
  <label for="niveau">Niveau scolaire:</label>
  <select id="niveau" [(ngModel)]="niveau">
    <option value="CP">CP</option>
    <option value="CE1">CE1</option>
    <option value="CE2">CE2</option>
    <option value="CM1">CM1</option>
    <option value="CM2">CM2</option>
  </select>

  <label for="matiere">Matière:</label>
  <select id="matiere" [(ngModel)]="matiere">
    <option value="Maths">Maths</option>
    <option value="Français">Français</option>
    <option value="Histoire">Histoire</option>
    <option value="Sciences">Sciences</option>
  </select>

  <label for="sous_sujet">Sous-sujet:</label>
  <select id="sous_sujet" [(ngModel)]="sous_sujet">
    <option *ngFor="let topic of mathTopics[niveau]" [value]="topic">{{ topic }}</option>
  </select>

  <label for="nombre_questions">Nombre de questions:</label>
  <input type="number" id="nombre_questions" [(ngModel)]="nombre_questions" min="3" max="10">

  <button (click)="generateQuiz()">Générer le quiz</button>

  <div *ngIf="questions.length > 0">
    <h3>Questions</h3>
    <form (ngSubmit)="submitAnswers()">
      <div *ngFor="let question of questions; let i = index">
        <label>{{ question }}</label>
        <input type="text" [(ngModel)]="answers[i]" name="answer{{i}}">
      </div>
      <button type="submit">Valider mes réponses</button>
    </form>
  </div>

  <div *ngIf="feedback">
    <h3>Feedback</h3>
    <p>{{ feedback }}</p>
  </div>
</div>
<div *ngIf="!authService.isLoggedIn()">
  <p>Veuillez vous connecter pour accéder au quiz.</p>
  <a routerLink="/login">Se connecter</a> <!-- Lien vers la page de connexion -->
  <p>Pas encore inscrit ? <a routerLink="/register">S'inscrire</a></p> <!-- Lien vers la page d'inscription -->
</div>